"use strict";function menuHideExtraElements(){jQuery("#more-li").remove();var e=jQuery(".sf-menu").width(),a=0,t=jQuery(".sf-menu > li");t.removeClass("md-hidden"),t.each(function(r){var i=jQuery(this).outerWidth();if(a+=i,a>=e){var s=jQuery('<li id="more-li"><a>...</a><ul></ul></li>');jQuery(t[r-1]).before(s);var o=(jQuery(s).outerWidth(!0),t.filter(":gt("+(r-2)+")"));return o.clone().appendTo(s.find("ul")),o.addClass("md-hidden"),!1}})}function pieChart(){jQuery().easyPieChart&&jQuery(".chart").each(function(){var e=jQuery(this),a=e.offset().top,t=jQuery(window).scrollTop();if(a<t+900){var r=e.data("size")?e.data("size"):270,i=e.data("line")?e.data("line"):20,s=e.data("bgcolor")?e.data("bgcolor"):"#ffffff",o=e.data("trackcolor")?e.data("trackcolor"):"#c14240",n=e.data("speed")?e.data("speed"):3e3;e.easyPieChart({barColor:o,trackColor:s,scaleColor:!1,scaleLength:!1,lineCap:"butt",lineWidth:i,size:r,rotate:0,animate:n,onStep:function(e,a,t){jQuery(this.el).find(".percent").text(Math.round(t))}})}})}function affixSidebarInit(){var e=jQuery(".affix-aside");if(e.length){e.on("affix.bs.affix",function(a){var t=e.width()-1,r=e.offset().left;e.width(t).css("left",r)}).on("affix-top.bs.affix affix-bottom.bs.affix",function(a){e.css({width:"",left:""})});var a=e.offset().top-jQuery(".page_header").height(),t=jQuery(".page_footer").outerHeight(!0)+jQuery(".page_copyright").outerHeight(!0);e.affix({offset:{top:a,bottom:t}}),jQuery(window).on("resize",function(){e.css({width:"",left:""}),e.hasClass("affix")&&e.removeClass("affix").css("left","").addClass("affix-top");var a=jQuery(".page_topline").outerHeight(!0)+jQuery(".page_toplogo").outerHeight(!0)+jQuery(".page_breadcrumbs").outerHeight(!0)+jQuery(".page_header").outerHeight(!0),t=jQuery(".page_footer").outerHeight(!0)+jQuery(".page_copyright").outerHeight(!0);e.data("bs.affix").options.offset.top=a,e.data("bs.affix").options.offset.bottom=t,e.affix("checkPosition")})}}function documentReadyInit(){jQuery().superfish&&jQuery("ul.sf-menu").superfish({delay:300,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"fast",disableHI:!1,cssArrows:!0,autoArrows:!0}),jQuery(".toggle_menu").on("click",function(){jQuery(".toggle_menu").toggleClass("mobile-active"),jQuery(".page_header").toggleClass("mobile-active")}),jQuery(".mainmenu a").on("click",function(){jQuery(this).hasClass("sf-with-ul")||(jQuery(".toggle_menu").toggleClass("mobile-active"),jQuery(".page_header").toggleClass("mobile-active"))});var e=jQuery(window).width();jQuery(window).on("resize",function(){e=jQuery(window).width()}),jQuery(".mainmenu").on("mouseover","ul li",function(){if(e>991){var a=jQuery(this),t=a.find("ul").length;if(t>0){var r=a.find("ul").width(),i=a.find("ul").parent().offset().left+r;if(i+r>e){var s=r+0;a.find("ul").first().css({left:-s})}else a.find("ul").first().css({left:"100%"})}}}).on("mouseover","> li",function(){if(e>991){var a=jQuery(this),t=a.find("ul").length;if(t>0){var r=a.find("ul").width(),i=a.find("ul").parent().offset().left;if(i+r>e){var s=e-(i+r);a.find("ul").first().css({left:s})}}}});var a=jQuery(".page_header").outerHeight(!0);if(jQuery("body").scrollspy({target:".mainmenu_wrapper",offset:a}),jQuery().localScroll&&jQuery(".mainmenu, #land").localScroll({duration:900,easing:"easeInOutQuart",offset:-a+10}),jQuery().UItoTop&&jQuery().UItoTop({easingType:"easeOutQuart"}),jQuery().parallax&&jQuery(".parallax").parallax("50%",.01),jQuery().prettyPhoto&&jQuery("a[data-gal^='prettyPhoto']").prettyPhoto({hook:"data-gal",theme:"facebook"}),jQuery().carousel&&jQuery(".carousel").carousel(),jQuery(".nav-tabs").each(function(){jQuery(this).find("a").first().tab("show")}),jQuery(".tab-content").each(function(){jQuery(this).find(".tab-pane").first().addClass("fade in")}),jQuery(".panel-group").each(function(){jQuery(this).find("a").first().filter(".collapsed").trigger("click")}),jQuery().tooltip&&jQuery('[data-toggle="tooltip"]').tooltip(),jQuery().owlCarousel&&jQuery(".owl-carousel").each(function(){var e=jQuery(this),a=!!e.data("loop")&&e.data("loop"),t=e.data("margin")||0==e.data("margin")?e.data("margin"):30,r=!!e.data("nav")&&e.data("nav"),i=!!e.data("dots")&&e.data("dots"),s=e.data("themeclass")?e.data("themeclass"):"owl-theme",o=!!e.data("center")&&e.data("center"),n=e.data("items")?e.data("items"):4,l=!!e.data("autoplay")&&e.data("autoplay"),d=e.data("responsive-xs")?e.data("responsive-xs"):1,u=e.data("responsive-sm")?e.data("responsive-sm"):2,f=e.data("responsive-md")?e.data("responsive-md"):3,c=e.data("responsive-lg")?e.data("responsive-lg"):4,p=!!e.data("filters")&&e.data("filters");p&&(e.clone().appendTo(e.parent()).addClass(p.substring(1)+"-carousel-original"),jQuery(p).on("click","a",function(a){if(a.preventDefault(),!jQuery(this).hasClass("selected")){var t=jQuery(this).attr("data-filter");jQuery(this).siblings().removeClass("selected active"),jQuery(this).addClass("selected active"),e.find(".owl-item").length;for(var r=e.find(".owl-item").length-1;r>=0;r--)e.trigger("remove.owl.carousel",[1]);var i=jQuery(e.next().find(" > "+t).clone());i.each(function(){e.trigger("add.owl.carousel",jQuery(this))}),e.trigger("refresh.owl.carousel")}})),e.owlCarousel({loop:a,margin:t,nav:r,autoplay:l,dots:i,themeClass:s,center:o,items:n,responsive:{0:{items:d},767:{items:u},992:{items:f},1200:{items:c}}}).addClass(s),o&&e.addClass("owl-center")}),jQuery().countdown){var t=new Date;t.setMonth(t.getMonth()+1),jQuery("#comingsoon-countdown").countdown({until:t})}jQuery(".search_modal_button").on("click",function(e){e.preventDefault(),jQuery("#search_modal").modal("show").find("input").first().focus()}),jQuery("form.searchform").on("submit",function(e){e.preventDefault();var a=jQuery(this),t=jQuery("#search_modal");if(t.find("div.searchform-respond").remove(),jQuery(a).find('[type="text"]').each(function(e){jQuery(this).val().length||jQuery(this).addClass("invalid").on("focus",function(){jQuery(this).removeClass("invalid")})}),!a.find('[type="text"]').hasClass("invalid")){t.modal("show");var r=a.serialize();jQuery.post("search.php",r).done(function(e){t.append('<div class="searchform-respond">'+e+"</div>")}).fail(function(e){t.append('<div class="searchform-respond">Search cannot be done. You need PHP server to search.</div>')})}}),jQuery(".signup").on("submit",function(e){e.preventDefault();var a=jQuery(this);a.find(".response").html("Adding email address..."),jQuery.ajax({url:"mailchimp/store-address.php",data:"ajax=true&email="+escape(a.find(".mailchimp_email").val()),success:function(e){a.find(".response").html(e)}})}),jQuery().tweet&&jQuery(".twitter").tweet({modpath:"./twitter/",count:2,avatar_size:48,loading_text:"loading twitter feed...",join_text:"auto",username:"ThemeForest",template:'{avatar}<div class="tweet_right">{time}{join}<span class="tweet_text">{tweet_text}</span></div>'}),jQuery("#toggle_shop_view").on("click",function(e){e.preventDefault(),jQuery(this).toggleClass("grid-view"),jQuery("#products").toggleClass("grid-view list-view")}),jQuery().elevateZoom&&jQuery("#product-image").elevateZoom({gallery:"product-image-gallery",cursor:"pointer",galleryActiveClass:"active",responsive:!0,loadingIcon:"img/AjaxLoader.gif"}),jQuery(".review-link").on("click",function(e){var a=jQuery(this),t=jQuery('a[href="#reviews_tab"]');t.parent().hasClass("active")||t.tab("show").on("shown.bs.tab",function(e){jQuery(window).scrollTo(jQuery(a).attr("href"),400)}),jQuery(window).scrollTo(jQuery(a).attr("href"),400)}),jQuery(".plus, .minus").on("click",function(e){var a=jQuery(this).parent().find('[type="number"]'),t=a.val(),r=jQuery(this).val();"-"===r?t>1&&a.val(parseFloat(t)-1):a.val(parseFloat(t)+1)}),jQuery("a.remove").on("click",function(e){e.preventDefault(),jQuery(this).closest("tr, .media").remove()}),jQuery().slider&&(jQuery(".slider-range-price").slider({range:!0,min:0,max:1e5,values:[1500,3e4],slide:function(e,a){jQuery(".slider_price_min").val(a.values[0]),jQuery(".slider_price_max").val(a.values[1])}}),jQuery(".slider_price_min").val(jQuery(".slider-range-price").slider("values",0)),jQuery(".slider_price_max").val(jQuery(".slider-range-price").slider("values",1))),jQuery(".color-filters").find("a[data-background-color]").each(function(){jQuery(this).css({"background-color":jQuery(this).data("background-color")})}),jQuery("#mainteasers .col-lg-4").addWidthClass({breakpoints:[500,600]}),jQuery(".bg_teaser").each(function(){var e=jQuery(this),a=e.find("img").first().attr("src");e.css("background-image","url("+a+")"),e.find(".bg_overlay").length||e.prepend('<div class="bg_overlay"/>')});var r=jQuery("#timetable");if(r.length&&jQuery("#timetable_filter").on("click","a",function(e){if(e.preventDefault(),e.stopPropagation(),!jQuery(this).hasClass("selected")){var a=jQuery(this).attr("data-filter");r.find("tbody td").removeClass("current").end().find(a).closest("td").addClass("current"),jQuery(this).closest("ul").find("a").removeClass("selected"),jQuery(this).addClass("selected")}}),jQuery().slider){var i=jQuery(".widget_bmi");i.length&&(i.find(".bmi-result").css({display:"none"}),jQuery(".bmi-range").each(function(){var e=jQuery(this),a=e.data("slider-min")?e.data("slider-min"):20,t=e.data("slider-max")?e.data("slider-max"):100,r=e.data("slider-step")?e.data("slider-step"):1,i=e.data("slider-value")?e.data("slider-value"):5;e.slider({min:a,max:t,step:r,range:"min",value:i,slide:function(a,t){e.prev().find(".bmi-range-value").text(t.value)}}),e.prev().find(".bmi-range-value").text(i)}),jQuery(".bmi_calculate").on("click",function(){var e=jQuery(this).closest(".widget_bmi"),a=parseInt(e.find(".bmi-weight").text()),t=parseInt(e.find(".bmi-height").text())/100;1!=e.find(".bmi-range-height").data("slider-step")&&(a=.45359237*a,t/=.0328083989501);var r=a/(t*t);if(r<15)var i="bmi-1";else if(r<=16)var i="bmi-2";else if(r<=18.4)var i="bmi-3";else if(r<=24.9)var i="bmi-4";else if(r<=29.9)var i="bmi-5";else if(r<=34.9)var i="bmi-6";else if(r<=39.9)var i="bmi-7";else var i="bmi-8";e.find(".bmi-result").hide().end().find("."+i).show(),e.find(".bmi-value").text(r.toFixed(1))}))}}function windowLoadInit(){if(pieChart(),jQuery().flexslider){var e=jQuery(".intro_section .flexslider, .mainslider .flexslider");e.each(function(e){var a=jQuery(this);a.flexslider({animation:"fade",useCSS:!0,controlNav:!1,directionNav:!0,prevText:"",nextText:"",smoothHeight:!1,slideshowSpeed:8e3,animationSpeed:600,start:function(e){e.find(".slide_description > div").children().css({visibility:"hidden"}),e.find(".flex-active-slide .slide_description > div").children().each(function(e){var a=jQuery(this),t=a.data("animation")?a.data("animation"):"fadeInRight";setTimeout(function(){a.addClass("animated "+t)},200*e)})},after:function(e){e.find(".flex-active-slide .slide_description > div").children().each(function(e){var a=jQuery(this),t=a.data("animation")?a.data("animation"):"fadeInRight";setTimeout(function(){a.addClass("animated "+t)},200*e)})},end:function(e){e.find(".slide_description > div").children().each(function(){jQuery(this).attr("class","")})}}).find(".flex-control-nav").wrap('<div class="container nav-container"/>')}),jQuery(".flexslider").each(function(e){var a=jQuery(this);a.find(".flex-active-slide").length||a.flexslider({animation:"fade",useCSS:!0,controlNav:!0,directionNav:!1,prevText:"",nextText:"",smoothHeight:!1,slideshowSpeed:5e3,animationSpeed:800})})}var a=jQuery(".page_header").first();if(a.length){menuHideExtraElements();var t=a.outerHeight();a.wrap('<div class="page_header_wrapper"></div>').parent().css({height:t});var r=0;r=a.offset().top,jQuery(a).on("affixed-top.bs.affix affixed.bs.affix",function(e){a.hasClass("affix-top")?a.parent().removeClass("affix-wrapper affix-bottom-wrapper").addClass("affix-top-wrapper"):a.hasClass("affix")?a.parent().removeClass("affix-top-wrapper affix-bottom-wrapper").addClass("affix-wrapper"):a.hasClass("affix-bottom")?a.parent().removeClass("affix-wrapper affix-top-wrapper").addClass("affix-bottom-wrapper"):a.parent().removeClass("affix-wrapper affix-top-wrapper affix-bottom-wrapper"),menuHideExtraElements()}),jQuery(a).on("affixed-top.bs.affix",function(){a.parent().css({height:a.outerHeight()})}),jQuery(a).affix({offset:{top:r,bottom:0}})}if(affixSidebarInit(),jQuery("body").scrollspy("refresh"),jQuery().appear&&(jQuery(".to_animate").appear(),jQuery(".to_animate").filter(":appeared").each(function(e){var a=jQuery(this),t=a.data("animation")?a.data("animation"):"fadeInUp",r=a.data("delay")?a.data("delay"):210;setTimeout(function(){a.addClass("animated "+t)},e*r)}),jQuery("body").on("appear",".to_animate",function(e,a){jQuery(a).each(function(e){var a=jQuery(this),t=a.data("animation")?a.data("animation"):"fadeInUp",r=a.data("delay")?a.data("delay"):210;setTimeout(function(){a.addClass("animated "+t)},e*r)})})),jQuery().appear&&(jQuery(".counter").appear(),jQuery(".counter").filter(":appeared").each(function(e){jQuery(this).hasClass("counted")||jQuery(this).countTo().addClass("counted")}),jQuery("body").on("appear",".counter",function(e,a){jQuery(a).each(function(e){jQuery(this).hasClass("counted")||jQuery(this).countTo().addClass("counted")})})),jQuery().appear&&jQuery().progressbar&&(jQuery(".progress .progress-bar").appear(),jQuery(".progress .progress-bar").filter(":appeared").each(function(e){jQuery(this).progressbar({transition_delay:300})}),jQuery("body").on("appear",".progress .progress-bar",function(e,a){jQuery(a).each(function(e){jQuery(this).progressbar({transition_delay:300})})}),jQuery('a[data-toggle="tab"]').on("shown.bs.tab",function(e){jQuery(jQuery(e.target).attr("href")).find(".progress .progress-bar").progressbar({transition_delay:300})})),jQuery().jflickrfeed){var i=jQuery("#flickr");i.length&&(i.hasClass("flickr_loaded")||i.jflickrfeed({flickrbase:"http://api.flickr.com/services/feeds/",limit:8,qstrings:{id:"131791558@N04"},itemTemplate:'<a href="{{image_b}}" data-gal="prettyPhoto[pp_gal]"><li><img alt="{{title}}" src="{{image_s}}" /></li></a>'},function(e){i.find("a").prettyPhoto({hook:"data-gal",theme:"facebook"})}).addClass("flickr_loaded"))}jQuery(".embed-placeholder").each(function(){jQuery(this).on("click",function(e){e.preventDefault(),jQuery(this).replaceWith('<iframe class="embed-responsive-item" src="'+jQuery(this).attr("href")+'?rel=0&autoplay=1"></iframe>')})}),jQuery(".isotope_container, #isotope_container").each(function(e){var a=jQuery(this),t=a.hasClass("masonry-layout")?"masonry":"fitRows";a.isotope({percentPosition:!0,layoutMode:t,masonry:{}});var r=a.attr("data-filters")?jQuery(jQuery(this).attr("data-filters")):a.parent().find(".filters");r.length&&r.on("click","a",function(e){e.preventDefault();var t=jQuery(this).attr("data-filter");a.isotope({filter:t}),jQuery(this).siblings().removeClass("selected active"),jQuery(this).addClass("selected active")})}),jQuery(".preloaderimg").fadeOut(),jQuery(".preloader").delay(200).fadeOut("slow").delay(200,function(){jQuery(this).remove()})}jQuery(document).ready(function(){documentReadyInit()}),jQuery(window).on("load",function(){windowLoadInit();var e=jQuery("#map, .page_map");e.length&&e.each(function(){var e,a,t,r=jQuery(this),i=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}],s=r.data("address")?r.data("address"):"london, baker street, 221b",o=r.find(".map_marker_description").prop("outerHTML"),n=r.find("h3").first().text()?r.find("h3").first().text():"Map Title",l=r.find(".map_marker_icon").first().attr("src");jQuery.getJSON("http://maps.googleapis.com/maps/api/geocode/json?address="+s,function(t){e=t.results[0].geometry.location.lat,a=t.results[0].geometry.location.lng}).complete(function(){var s=new google.maps.LatLng(e,a),d={mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:16,draggable:!1,scrollwheel:!1,center:s,styles:i};t=new google.maps.Map(r[0],d);var u=new google.maps.Marker({position:s,title:n,map:t,icon:l}),f=new google.maps.InfoWindow({content:o});google.maps.event.addListener(u,"click",function(){f.open(t,u)})})})}),jQuery(window).on("resize",function(){jQuery("body").scrollspy("refresh"),menuHideExtraElements();var e=jQuery(".page_header").first();e.length&&!jQuery(document).scrollTop()&&e.first().data("bs.affix")&&(e.first().data("bs.affix").options.offset.top=e.offset().top),jQuery(".page_header_wrapper").css({height:e.first().outerHeight()})}),jQuery(window).scroll(function(){pieChart()});